# 碰到的问题

## 部署

### 关于https配置

使用`curl`命令请求koa搭建的服务器，如果传入是`curl localhost:3001`这种域名和证书无法对应的，就会出现`empty reply from server`的问题，并不是服务器出问题，这种时候在远程服务器搭建好nginx代理，如果nginx层没有设证书，访问的话会出现`ssl error`网络无法的问题。因此解决这个问题就是要nginx层设置证书，不能仅仅监听443端口，然后代理`proxy_pass https://localhost: 3001`。

- 静态文件通过nginx进行http2传输需要在配置文件指明：`listen 443 ssl htt2`。
- nginx静态资源无法请求，出现403 forbidden：`nguni.conf`中的`user nginx`改成`user root`。
- 

### 关于docker

- docker-compose解决nginx和服务端渲染web程序的容器化



## 开发

### 关于服务端渲染

- webpack服务端配置的`externals`
- koa服务端热更新
- 预先加载dll

