---
sidebar: auto
title: 'JS设计模式与开发实践笔记'
---

# JS设计模式与开发实践笔记

## 第4章 单例模式

**定义**：保证一个类仅有一个实例，并提供全局访问。

例如单击登陆按钮，页面中出现的登陆浮窗，适合用单例模式创建。

### 实现单例模式

类中添加一个`getinstance`方法保证单例，但是这样使用起来并不透明，每次都需要调用该方法。

### 透明的单例模式

通过闭包的方法使得调用方式透明，但是这种方法阅读起来不舒服，并且构造函数做了创建对象和保证只有一个对象两件事，不符合“单一职责原则”的概念。一旦不需要单例模式，就涉及到原构造函数的代码更改，带来不必要的麻烦。

### 用代理实现单例模式

原构造函数只负责创建对象，引入一个代理类负责保证只有一个对象。

### JS中的单例模式

为降低全局变量带来的命名污染，可以通过以下几种方式：

- 使用命名空间
- 使用闭包封装私有变量

### 惰性单例

在需要的时候才创建实例。

### 通用的惰性单例

遵循“单一职责原则”，将管理单例的功能抽象成一个函数，入参为一个创建实例的函数。



## 第5章 策略模式

**定义**：定义一系列的算法，把它们一个个封装起来，并且使它们可以相互替换。

